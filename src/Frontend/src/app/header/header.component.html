<div class="navbar">
    
    
    <div class="flex-grow-1 float-right" style="float: right">
        <a aria-label="Home" class="logo" routerLink="/home">
            <img src="assets/reddit_logo.png" class="reddit-icon-svg" />
          &nbsp;
            <div class="reddit-text">
                redditclone
            </div>
        </a>
    </div>

    <div class="searchbar">
        
        <label htmlFor="searchbar">
            <mat-icon>search</mat-icon>
        </label>
        
         <input id="searchbar" placeholder="Search Reddit Clone" />

      </div>

    <div class="flex-grow-1 float-right" style="float: right">
        
        <div *ngIf="isLoggedIn" ngbDropdown class="float-right">
            
            <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
                <button (click)="goToUserProfile()" ngbDropdownItem>Profile</button>
               
                <button (click)="logout()" ngbDropdownItem>Logout</button>
            </div>

            <button class="userdetails" id="dropdownBasic1" ngbDropdownToggle>
                <img class="account-icon" src="assets/avatar_default_08_D4E815.png">
                {{username}}
            </button>

        </div>            
        
        <div class="actions" *ngIf="!isLoggedIn" style="float: right">
            
            <button class="float-right sign-up mr-2" type="button" 
            data-bs-toggle="modal" data-bs-target="#signupModal">Sign up</button>
                     
          &nbsp;
          &nbsp; 
          
            <button class="float-right login mr-2" 
            data-bs-toggle="modal" data-bs-target="#loginModal">Login</button>
            
                &nbsp;
            &nbsp;
            
            <div>
            
                <button class="items" mat-button [matMenuTriggerFor]="menu" style="margin-right: 10px;">
                    <mat-icon>person_outline</mat-icon>
                    <mat-icon>keyboard_arrow_down</mat-icon>
                </button>
                        <mat-menu #menu="matMenu">
                            <a data-bs-toggle="modal" data-bs-target="#signupModal" style="text-decoration: none" mat-menu-item>Sign up</a>
                          
                            <a data-bs-toggle="modal" data-bs-target="#loginModal" style="text-decoration: none" mat-menu-item>Login</a>
                           
                        </mat-menu>


            </div>            

            </div>
            
        </div>
    </div>
    
    
        <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title modaltitle" id="loginModalLabel">Login</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <form [formGroup]="loginForm" (ngSubmit)="login()">
                  <div class="mb-3">
                    <label for="user_name" class="form-label">Username</label>
                    <input type="text" id="user_name" class="form-control" [formControlName]="'username'" name="user_name" required
                    autofocus>
                    <div *ngIf="loginForm.get('username')?.touched && loginForm.get('username')?.hasError('required')" class="d-block invalid-feedback">Please
                      provide a Email.
                    </div>
                    
                  </div>
                  <div class="mb-3">
                    <label for="id_Password" class="form-label">Password</label>
                    <input type="password" id="id_password" class="form-control" [formControlName]="'password'" name="password" required>
                    <div *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.hasError('required')" class="d-block invalid-feedback">
                      Please
                      provide a Password.</div>
                  </div>
                  <button [disabled]="loginForm.invalid" type="submit" class=" mt-3 btn btn-primary w-100">Submit</button>
    
                  <a data-bs-toggle="modal" data-bs-target="#signupModal"> Don't have an account? Sign up</a>
                </form>
              </div>
            </div>
          </div>
        </div>
    
      <div class="modal fade" id="signupModal" tabindex="-1" aria-labelledby="SignupModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title modaltitle" id="SignupModalLabel">Sign Up</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <form [formGroup]="signupForm" (ngSubmit)="signup()">
                  <div class="mb-3">
                    <label for="id_username" class="form-label">Username</label>
                    <input formControlName="username" [class.is-invalid]="signupForm.get('username')?.invalid && signupForm.get('username')?.touched" type="text"
                      class="form-control" id="id_username">
                    <div *ngIf="signupForm.get('username')?.touched && signupForm.get('username')?.hasError('required')" class="d-block invalid-feedback">Please
                      provide a username.
                    </div>
                    </div>
              <div class="mb-3">
                    <label for="id_email" class="form-label">Email address</label>
                    <input formControlName="email" [class.is-invalid]="signupForm.get('email')?.invalid && signupForm.get('email')?.touched" type="email"
                      class="form-control" id="id_email">
                    <div *ngIf="signupForm.get('email')?.touched && signupForm.get('email')?.hasError('required')" class="d-block invalid-feedback">Please
                      provide an email.</div>
                    <div *ngIf="signupForm.get('email')?.touched && signupForm.get('email')?.hasError('email')" class="d-block invalid-feedback">Email
                      address is
                      not valid</div>
                  </div>
                  
                  <div class="mb-3">
                    <label for="password" class="form-label">Password</label>
                    <input formControlName="password" [class.is-invalid]="signupForm.get('password')?.touched && signupForm.get('password')?.invalid"
                      type="password" class="form-control" id="password">
                    <div *ngIf="signupForm.get('password')?.touched && signupForm.get('password')?.hasError('required')" class="d-block invalid-feedback">
                      Please
                      provide a Password.</div>
                  </div>
                  <button [disabled]="signupForm.invalid" type="submit" class=" mt-3 btn btn-primary w-100">Submit</button>
                  <a data-bs-toggle="modal" data-bs-target="#loginModal"> Already have an account? Login</a>
                  
                </form>
              </div>
            </div>
          </div>
        </div> 